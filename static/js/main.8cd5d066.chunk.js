(this["webpackJsonpmine-game"]=this["webpackJsonpmine-game"]||[]).push([[0],{25:function(e,a,t){e.exports=t.p+"static/media/rsz_ogmodh0.9da60ef6.png"},33:function(e,a,t){e.exports=t.p+"static/media/transparent.fc1bdc17.png"},34:function(e,a,t){e.exports=t.p+"static/media/Tbadge-junior.cb90856c.png"},35:function(e,a,t){e.exports=t.p+"static/media/Tbadge-senior.047cd48d.png"},36:function(e,a,t){e.exports=t.p+"static/media/Tbadge-expert.fbeacfa3.png"},42:function(e,a,t){e.exports=t(54)},47:function(e,a,t){},48:function(e,a,t){},54:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(13),r=t.n(l),i=(t(47),t(17)),o=t(69),u=(t(48),t(5)),s={BUILD:"BUILD",CLICKED:"CLICKED",RIGHT_CLICKED:"RIGHT_CLICKED",REDUCE_MINE_LEFT:"REDUCE_MINE_LEFT",INCREASE_MINE_LEFT:"INCREASE_MINE_LEFT",CHECK_CELL:"CHECK_CELL",EMPTY:"EMPTY",SAVE_CHANGE:"SAVE_CHANGE",FLAG_TOGGLE:"FLAG_TOGGLE",CHANGE_LEVEL:"CHANGE_LEVEL",CHANGE_SIZE:"CHANGE_SIZE",RESTART_GAME:"RESTART_GAME",FAILED:"FAILED",FINISH:"FINISH",RESET:"RESET"},m=function(e){var a=e.split("|");return{type:s.CLICKED,action:a}},f=function(e){var a=e.split("|");return{type:s.RIGHT_CLICKED,action:a}},v=function(e,a){E(e.id,a)},E=function(e,a){var t=e.split("|"),n=parseInt(t[0]),c=parseInt(t[1]),l=a;if(0===a[t[0]][t[1]].value&&1!==a[t[0]][t[1]].mark){try{l[n-1][c].open||1===l[n-1][c].mark||(l[n-1][c].open=!0,0===l[n-1][c].value&&v(l[n-1][c],l))}catch(r){}try{l[n+1][c].open||1===l[n+1][c].mark||(l[n+1][c].open=!0,0===l[n+1][c].value&&v(l[n+1][c],l))}catch(r){}try{l[n][c-1].open||1===l[n][c-1].mark||(l[n][c-1].open=!0,0===l[n][c-1].value&&v(l[n][c-1],l))}catch(r){}try{l[n][c+1].open||1===l[n][c+1].mark||(l[n][c+1].open=!0,0===l[n][c+1].value&&v(l[n][c+1],l))}catch(r){}try{l[n-1][c-1].open||1===l[n-1][c-1].mark||(l[n-1][c-1].open=!0,0===l[n-1][c-1].value&&v(l[n-1][c-1],l))}catch(r){}try{l[n-1][c+1].open||1===l[n-1][c+1].mark||(l[n-1][c+1].open=!0,0===l[n-1][c+1].value&&v(l[n-1][c+1],l))}catch(r){}try{l[n+1][c+1].open||1===l[n+1][c+1].mark||(l[n+1][c+1].open=!0,0===l[n+1][c+1].value&&v(l[n+1][c+1],l))}catch(r){}try{l[n+1][c-1].open||1===l[n+1][c-1].mark||(l[n+1][c-1].open=!0,0===l[n+1][c-1].value&&v(l[n+1][c-1],l))}catch(r){}}else if(a[t[0]][t[1]].value>=15&&1!==a[t[0]][t[1]].mark)return l=b(a),{type:s.FAILED,tempMat:l};return{type:s.CHECK_CELL,payload:l}},p=function(e,a){for(var t=1===a?Math.ceil(.12*e*e):2===a?Math.ceil(.2*e*e):Math.ceil(.3*e*e),n=[],c=t,l=0;l<e;l++){n[l]=[];for(var r=0;r<e;r++)n[l][r]={id:"".concat(l,"|").concat(r),mine:!1,open:!1,value:0,mark:0,flagRisk:0}}for(;0!==c;){var i=Math.ceil(Math.random()*e-1),o=Math.ceil(Math.random()*e-1);n[i][o].mine||(n[i][o]={id:"".concat(i,"|").concat(o),mine:!0,open:!1,value:15,mark:0,flagRisk:0},c--)}return d(n,e),{type:s.BUILD,action:n,amountOfMines:t,amountOfCellToBeOpen:e*e-t}},d=function(e,a){for(var t=0;t<a;t++)for(var n=0;n<a;n++)try{e[t][n].mine&&(0===t?0===n?(e[t][n+1].value+=1,e[t+1][n].value+=1,e[t+1][n+1].value+=1):n===e.length-1?(e[t][n-1].value+=1,e[t+1][n].value+=1,e[t+1][n-1].value+=1):(e[t][n-1].value+=1,e[t][n+1].value+=1,e[t+1][n].value+=1,e[t+1][n-1].value+=1,e[t+1][n+1].value+=1):t===e.length-1?0===n?(e[t][n+1].value+=1,e[t-1][n].value+=1,e[t-1][n+1].value+=1):n===e.length-1?(e[t][n-1].value+=1,e[t-1][n].value+=1,e[t-1][n-1].value+=1):(e[t][n-1].value+=1,e[t][n+1].value+=1,e[t-1][n].value+=1,e[t-1][n-1].value+=1,e[t-1][n+1].value+=1):0===n?(e[t-1][n].value+=1,e[t+1][n].value+=1,e[t][n+1].value+=1,e[t-1][n+1].value+=1,e[t+1][n+1].value+=1):n===e.length-1?(e[t-1][n].value+=1,e[t+1][n].value+=1,e[t][n-1].value+=1,e[t-1][n-1].value+=1,e[t+1][n-1].value+=1):(e[t-1][n+1].value+=1,e[t-1][n].value+=1,e[t-1][n-1].value+=1,e[t+1][n+1].value+=1,e[t+1][n].value+=1,e[t+1][n-1].value+=1,e[t][n+1].value+=1,e[t][n-1].value+=1))}catch(c){}},b=function(e){var a=e;return a.map((function(e){return e.map((function(e){return e.mine?(e.open=!0,e):e}))})),a},O=function(){return{type:s.RESET}},g=function(e,a,t){var n=1,c=0,l=a*a,r=Math.ceil(t);return e.map((function(e){return e.map((function(e){return e.mine?1!==e.mark&&(n=0):e.open&&c++,0})),0})),c=l-c,n||r===c?{type:s.FINISH}:{type:s.EMPTY}},h="TIME",j="RESTART_GAME",k="PAUSE",y="LOADING",N="SETTINGS",C=function(){return{type:j}},I=function(){return{type:y}},L=function(e){var a=1===e?0:1;return{type:k,payload:a}},M=function(e){return{type:N,payload:1===e?0:1}},T=t(2),S=function(e){var a=Object(u.c)((function(e){return e.board})),t=Object(u.b)(),l=e.cell.open?e.cell.value>=15?c.a.createElement("i",{className:"fa fa-bomb","aria-hidden":"true"}):0===e.cell.value?null:e.cell.value:1===e.mark?c.a.createElement("i",{className:"fa fa-flag","aria-hidden":"true"}):2===e.mark?c.a.createElement("i",{className:"fa fa-question","aria-hidden":"true"}):e.cell.flagRisk?c.a.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}):null,r={color:e.cell.value>=15&&e.cell.open?"black":1===e.cell.value&&e.cell.open?"#047933":2===e.cell.value&&e.cell.open?"#0c0398":3===e.cell.value&&e.cell.open?"red":e.cell.open||1!==e.cell.mark?e.cell.open||2!==e.cell.mark?"black":"#dbce23":"#e50808",backgroundColor:e.cell.mine&&e.cell.open?"red":null},o=Object(n.useState)({longpress:350,start:0}),v=Object(i.a)(o,2),p=v[0],d=v[1],b=function(){t(m(e.cell.id)),t(E(e.cell.id,e.board.board)),t(g(a.board,a.size,a.amountOfMines))},O=function(n){(a.amountOfMines>0||"fa fa-flag"===n.target.className)&&t(f(e.cell.id)),1===e.cell.mark?t({type:s.REDUCE_MINE_LEFT}):2===e.cell.mark&&t({type:s.INCREASE_MINE_LEFT})},h=function(e){e.preventDefault();var a=(new Date).getTime();d(Object(T.a)(Object(T.a)({},p),{},{start:a}))},j=function(t){if(t.preventDefault(),t=t||window.event,a.flagOnly)O(t);else if(!e.cell.open&&!a.fail)if((new Date).getTime()>=p.start+p.longpress)O(t);else switch(window.event.which){case 0:case 1:b();break;case 3:O(t);break;default:return-1}};return c.a.createElement("button",{onTouchStart:h,onTouchEnd:j,onMouseDown:h,onMouseLeave:function(e){e.preventDefault(),d(Object(T.a)(Object(T.a)({},p),{},{start:0}))},onMouseUp:j,disabled:e.cell.open,style:r,className:1===e.cell.mark?"btn flag":2===e.cell.mark?"btn question":1!==e.cell.flagRisk||e.cell.open?"btn regular":"btn risk"},l)},w=function(e){var a=Object(u.c)((function(e){return e.board})),t=Object(u.b)();Object(n.useEffect)((function(){return 0===a.time&&(t(I()),t(p(a.size,a.lvl)),t(I())),function(){return null}}),[a.lvl,a.size]),Object(n.useEffect)((function(){(0===a.amountOfMines||a.amountCellShouldBeOpen<=1)&&t(g(a.board,a.size,a.amountOfMines))}),[a.amountOfMines]);var l=a.board.map((function(e,n){return c.a.createElement("div",{className:"row",key:n},e.map((function(e,n){return c.a.createElement("div",{className:"cell",key:n,id:e.id},c.a.createElement(S,{board:a,value:e.value,mark:e.mark,cell:e,clicked:function(){return t(m(e.id))},rightClicked:function(){return t(f(e.id))}}))})))}));return c.a.createElement("div",null,c.a.createElement("div",{className:"board"},l))},_=t(70),A=function(e){return c.a.createElement(_.a,{size:"small",variant:"contained",color:"primary",className:"settingBtn",onClick:e.onclick},e.text)},D=function(){var e=Object(u.c)((function(e){return e.setting})),a=Object(u.c)((function(e){return e.board})),t=Object(u.b)();Object(n.useEffect)((function(){var n=null;return e.pause||a.pause||(n=setInterval((function(){t({type:h})}),1e3)),function(){return clearInterval(n)}}),[e.pause,a.pause]);var l=function(){t(p(a.size,a.lvl)),t(C()),t(O())},r=0===e.pause?c.a.createElement("div",{className:"settings-toggle"},c.a.createElement(_.a,{size:"medium",variant:"contained",color:"primary",className:"settingBtn",onClick:function(){t(L(e.pause))}},"Settings")):c.a.createElement("div",{className:"settings-btns"},c.a.createElement(A,{text:"Start over",onclick:function(){return l()}}),c.a.createElement(A,{text:"Change level",onclick:function(){return t(M(e.settings))}}),c.a.createElement(_.a,{size:"small",variant:"contained",color:"primary",className:"settingBtn",onClick:function(){t(L(e.pause))}},"close"));return c.a.createElement("div",null,c.a.createElement("div",{className:"stats"},c.a.createElement("div",{className:"stats-time"},e.time),c.a.createElement("div",{className:"stats-minesLeft"},Math.ceil(a.amountOfMines))),c.a.createElement("div",{className:"stats"},c.a.createElement(A,{text:"Start over",onclick:function(){return l()}}),r,c.a.createElement(A,{text:"Flag",onclick:function(){return t(function(e,a){var t=1===a?0:1,n=e;return n=n.map((function(e){return e.map((function(e){return e.flagRisk=1===a?0:1,e}))})),{type:s.FLAG_TOGGLE,flag:t,tempMat:n}}(a.board,a.flagOnly))}})))},R=function(){var e=Object(u.c)((function(e){return e.board})),a=Object(u.c)((function(e){return e.setting})),t=Object(u.b)(),n=Math.floor(a.time/60),l=a.time-60*n,r=0===n?c.a.createElement("h2",{className:"sec-text"},"WOW! it took you only ",l," seconds to finish! impresive! "):c.a.createElement("h2",{className:"sec-text"},"It took you ",n," minutes and ",l," seconds  to finish");return c.a.createElement("div",{className:"success"},c.a.createElement("h1",null,"Well Done!"),c.a.createElement("h2",{className:"sec-text"},"You did it! You stayed alive!"),r,c.a.createElement(_.a,{size:"medium",variant:"contained",color:"primary",className:"startOverBtn",onClick:function(){t(p(e.size,e.lvl)),t(C()),t(O())}},"Play Again"))},G=t(33),x=t.n(G),z=t(25),F=t.n(z),H=function(e){return c.a.createElement("div",{className:"App",style:{width:"100vw",height:"100vh",backgroundImage:"src=".concat(F.a)}},c.a.createElement("h1",{className:"welcome-title"},"Do you have what it takes to clean all the mines and stay alive? "),c.a.createElement("img",{src:x.a,alt:"army mine sweepers",className:"welcome-img"}),c.a.createElement(_.a,{size:"medium",variant:"contained",color:"primary",className:"settingBtn",onClick:e.close},"IM READY FOR SOME ACTION"),c.a.createElement("a",{href:"https://www.freepik.com/free-photos-vectors/technology"},"Technology vector created by macrovector - www.freepik.com"))},B=t(71),K=t(34),U=t.n(K),V=t(35),W=t.n(V),Y=t(36),J=t.n(Y),P=function(){var e=Object(u.c)((function(e){return e.setting})),a=Object(u.c)((function(e){return e.board})),t=Object(u.b)(),l=Object(n.useState)({lvl:a.lvl,size:a.size}),r=Object(i.a)(l,2),o=r[0],m=r[1],f=function(){var e=1===o.lvl?"Junior":2===o.lvl?"Senior":"Expert",a=1===o.lvl?12:2===o.lvl?20:30,t=o.size*o.size;return c.a.createElement("div",{className:"explanation"},c.a.createElement("h2",{className:"explanation-details"},"difficulty - ",e,": ",a,"% out of ",t," cells (Round up)"),c.a.createElement("h3",{className:"explanation-summary"},"total: ",Math.ceil(a*o.size*o.size/100)," mines"))}();return c.a.createElement("div",{className:"settings"},c.a.createElement("div",{className:"settingsItem"},c.a.createElement("h3",{className:"explanation-summary",id:"top"},"size: ",o.size),c.a.createElement(B.a,{defaultValue:a.size,step:1,marks:!0,getAriaValueText:function(e){return 1===e?"Junior":2===e?"Senior":"Expert"},min:5,max:13,valueLabelDisplay:"auto",onChange:function(e,a){m(Object(T.a)(Object(T.a)({},o),{},{size:a}))}})),c.a.createElement("div",{className:"settingsItem"},c.a.createElement("div",{className:"settingsItem-rank"},c.a.createElement("h3",{className:"explanation-summary"},"difficulty: ",1===o.lvl?"Junior":2===o.lvl?"Senior":"Expert"),c.a.createElement("img",{className:"rank",src:1===o.lvl?U.a:2===o.lvl?W.a:J.a,alt:"army mine sweepers"})),c.a.createElement(B.a,{defaultValue:a.lvl,step:1,marks:!0,min:1,max:3,onChange:function(e,a){m(Object(T.a)(Object(T.a)({},o),{},{lvl:a}))}}),f),c.a.createElement("div",{className:"saveChanges-btn"},c.a.createElement(A,{text:"Save",onclick:function(){var a,n;t((a=o.size,n=o.lvl,{type:s.SAVE_CHANGE,size:a,lvl:n})),t(L(e.pause)),t(M(e.settings)),t(C()),t(O())}})))};var q=function(){var e=Object(u.c)((function(e){return e.setting})),a=Object(u.c)((function(e){return e.board})),t=function(){var e=null;return 1===a.finish&&(e=c.a.createElement(R,null)),e}(),l=c.a.createElement("div",{className:"loading"},c.a.createElement(o.a,null)),r=e.settings?c.a.createElement(P,null):null,s=Object(n.useState)(!0),m=Object(i.a)(s,2),f=m[0],v=m[1];return Object(n.useEffect)((function(){return function(){}}),[]),!0===f?c.a.createElement(H,{close:v}):c.a.createElement("div",{className:"App",style:{backgroundImage:"url(".concat(F.a,")"),overflow:"hidden"}},r,e.isLoading?l:t,e.isLoading?null:c.a.createElement("div",{className:"game"},c.a.createElement(D,null),c.a.createElement(w,null)," "),c.a.createElement("a",{href:"https://www.freepik.com/free-photos-vectors/background"},"Background photo created by jannoon028 - www.freepik.com"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=t(15),$=t(37),Q={board:[],amountOfMines:5,amountCellShouldBeOpen:78,lvl:1,size:9,fail:0,time:0,pause:0,finish:0,settings:0,flagOnly:0},X=function(e,a,t){return e.board[a].filter((function(e){return e.id==="".concat(a,"|").concat(t)}))},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case s.BUILD:return Object(T.a)(Object(T.a)({},e),{},{board:a.action,amountOfMines:a.amountOfMines,amountCellShouldBeOpen:a.amountOfCellToBeOpen,fail:0});case s.CLICKED:var t=e.board,n=a.action[0],c=a.action[1],l=X(e,a.action[0],a.action[1]);if(1!==l[0].mark){l[0].open=!0,t[n][c]=Object(T.a)(Object(T.a)({},t[n][c]),{},{open:!0});var r=e.amountCellShouldBeOpen-1;return Object(T.a)(Object(T.a)({},e),{},{board:t,amountCellShouldBeOpen:r})}return Object(T.a)({},e);case s.RIGHT_CLICKED:var i=e.board,o=a.action[0],u=a.action[1],m=X(e,o,u);if(!m[0].open)return m[0].mark+=1,m[0].mark>2&&(m[0].mark=0),i[o][u]=Object(T.a)(Object(T.a)({},i[o][u]),{},{mark:m[0].mark}),Object(T.a)(Object(T.a)({},e),{},{board:i});break;case s.CHECK_CELL:return Object(T.a)(Object(T.a)({},e),{},{board:a.payload});case s.REDUCE_MINE_LEFT:return Object(T.a)(Object(T.a)({},e),{},{amountOfMines:e.amountOfMines-1});case s.INCREASE_MINE_LEFT:return Object(T.a)(Object(T.a)({},e),{},{amountOfMines:e.amountOfMines+1});case s.FLAG_TOGGLE:return Object(T.a)(Object(T.a)({},e),{},{flagOnly:a.flag,board:a.tempMat});case s.SAVE_CHANGE:return Object(T.a)(Object(T.a)({},e),{},{size:a.size,lvl:a.lvl});case s.FAILED:return Object(T.a)(Object(T.a)({},e),{},{board:a.tempMat,pause:1,fail:1});case s.FINISH:var f=1;return Object(T.a)(Object(T.a)({},e),{},{finish:f,pause:1});case s.RESET:return Object(T.a)(Object(T.a)({},e),{},{finish:0,pause:0});default:return Object(T.a)({},e)}},ae={time:0,pause:0,restart:0,success:0,isLoading:0,settings:0},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case y:var t=!e.isLoading;return Object(T.a)(Object(T.a)({},e),{},{isLoading:t});case h:var n=e.time+1;return Object(T.a)(Object(T.a)({},e),{},{time:n});case j:return Object(T.a)(Object(T.a)({},e),{},{time:0,pause:0,restart:0,success:0,isLoading:0});case k:var c=a.payload;return Object(T.a)(Object(T.a)({},e),{},{pause:c});case N:var l=a.payload;return Object(T.a)(Object(T.a)({},e),{},{settings:l});default:return Object(T.a)({},e)}},ne=t(38),ce=Object(Z.combineReducers)({setting:te,board:ee}),le=Object(Z.createStore)(ce,Object(ne.composeWithDevTools)(Object(Z.applyMiddleware)($.a)));r.a.render(c.a.createElement(u.a,{store:le},c.a.createElement(c.a.StrictMode,null,c.a.createElement(q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.8cd5d066.chunk.js.map